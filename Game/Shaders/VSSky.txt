cbuffer staticMeshBuffer : register(b0)
{
    float4x4 W;
    float4x4 VP;
};

struct VSIn
{
    float3 pos     : POSITION;
    float3 normal  : NORMAL;
    float3 tangent : TANGENT;
    float2 uv      : TEXCOORD;
};

struct VSOut
{
    float4 pos : SV_POSITION;
    float2 uv  : TEXCOORD0;
};

VSOut VS(VSIn i)
{
    VSOut o;
    // Position Calculation
    float4 wp = mul(float4(i.pos, 1.0f), W);
    float4 clip = mul(wp, VP);
    
    // Depth Hack for Sky (z = w)
    clip.z = clip.w;
    o.pos = clip;

    // Texture Flip Fix
    o.uv.x = i.uv.x;
    o.uv.y = i.uv.y; 

    return o;
}